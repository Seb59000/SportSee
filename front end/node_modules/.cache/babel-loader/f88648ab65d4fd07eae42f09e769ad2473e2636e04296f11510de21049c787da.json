{"ast":null,"code":"import dataMocked from '../data/data';\nimport axios from 'axios';\nimport { getUser, getActivity, getAverageSessions, getPerfs } from './infosUserRetriever.js';\nconst DataRetriever = async (cas, userId) => {\n  // cas = 3;\n  let results = [];\n  switch (cas) {\n    case \"mock\":\n      // utilisation des données mockées\n      results.push(dataMocked.USER_MAIN_DATA[userId].userInfos.firstName);\n      results.push(dataMocked.USER_ACTIVITY[userId].sessions);\n      results.push(dataMocked.USER_AVERAGE_SESSIONS[userId]);\n      results.push(dataMocked.USER_PERFORMANCE[userId].data);\n      results.push(dataMocked.USER_MAIN_DATA[userId].score * 100);\n      results.push(dataMocked.USER_MAIN_DATA[userId].score);\n      results.push(dataMocked.USER_MAIN_DATA[userId].keyData.calorieCount / 1000);\n      results.push(dataMocked.USER_MAIN_DATA[userId].keyData.proteinCount);\n      results.push(dataMocked.USER_MAIN_DATA[userId].keyData.carbohydrateCount);\n      results.push(dataMocked.USER_MAIN_DATA[userId].keyData.lipidCount);\n      break;\n    case \"API\":\n      // const mainData = await axios.get('http://localhost:3000/user/12')\n      // const userActivity = await axios.get('http://localhost:3000/user/12/activity')\n      // const userAverageSessions = await axios.get('http://localhost:3000/user/12/average-sessions')\n      // const perfs = await axios.get('http://localhost:3000/user/12/performance')\n      // results.push(mainData.data.data.userInfos.firstName)\n      // results.push(userActivity.data.data.sessions)\n      // results.push(userAverageSessions.data.data)\n      // results.push(perfs.data.data.data)\n      // results.push(mainData.data.data.todayScore * 100)\n      // results.push(mainData.data.data.todayScore)\n      // results.push(mainData.data.data.keyData.calorieCount / 1000)\n      // results.push(mainData.data.data.keyData.proteinCount)\n      // results.push(mainData.data.data.keyData.carbohydrateCount)\n      // results.push(mainData.data.data.keyData.lipidCount)\n      // console.log(mainData.data.data.keyData.calorieCount / 1000)\n\n      // const mainData = await axios.get('http://localhost:3000/user/12')\n      // utilisation des données de l'API\n      const mainData = await getUser(userId);\n      const userActivity = await getActivity(userId);\n      const userAverageSessions = await getAverageSessions(userId);\n      const perfs = await getPerfs(userId);\n\n      // si l'API renvoie \"error\" on renvoie les données mockées\n      if (mainData === \"error\" || userActivity === \"error\" || userAverageSessions === \"error\" || perfs === \"error\") {\n        userId = 0;\n        results.push(dataMocked.USER_MAIN_DATA[userId].userInfos.firstName);\n        results.push(dataMocked.USER_ACTIVITY[userId].sessions);\n        results.push(dataMocked.USER_AVERAGE_SESSIONS[userId]);\n        results.push(dataMocked.USER_PERFORMANCE[userId].data);\n        results.push(dataMocked.USER_MAIN_DATA[userId].score * 100);\n        results.push(dataMocked.USER_MAIN_DATA[userId].score);\n        results.push(dataMocked.USER_MAIN_DATA[userId].keyData.calorieCount / 1000);\n        results.push(dataMocked.USER_MAIN_DATA[userId].keyData.proteinCount);\n        results.push(dataMocked.USER_MAIN_DATA[userId].keyData.carbohydrateCount);\n        results.push(dataMocked.USER_MAIN_DATA[userId].keyData.lipidCount);\n        break;\n      }\n      // console.log(mainData2);\n      // console.log(userAverageSessions);\n      results.push(mainData.data.data.userInfos.firstName);\n      results.push(userActivity.data.data.sessions);\n      results.push(userAverageSessions.data.data);\n      results.push(perfs.data.data.data);\n      if (mainData.data.data.todayScore === undefined) {\n        results.push(mainData.data.data.score * 100);\n        results.push(mainData.data.data.score);\n      } else {\n        results.push(mainData.data.data.todayScore * 100);\n        results.push(mainData.data.data.todayScore);\n      }\n      results.push(mainData.data.data.keyData.calorieCount / 1000);\n      results.push(mainData.data.data.keyData.proteinCount);\n      results.push(mainData.data.data.keyData.carbohydrateCount);\n      results.push(mainData.data.data.keyData.lipidCount);\n      // console.log(mainData.data.data.keyData.calorieCount / 1000)\n      // console.log(dataMocked.USER_MAIN_DATA[0].score)\n      break;\n    default:\n      // par défaut on renvoie le mock du user 0\n      userId = 0;\n      results.push(dataMocked.USER_MAIN_DATA[userId].userInfos.firstName);\n      results.push(dataMocked.USER_ACTIVITY[userId].sessions);\n      results.push(dataMocked.USER_AVERAGE_SESSIONS[userId]);\n      results.push(dataMocked.USER_PERFORMANCE[userId].data);\n      results.push(dataMocked.USER_MAIN_DATA[userId].score * 100);\n      results.push(dataMocked.USER_MAIN_DATA[userId].score);\n      results.push(dataMocked.USER_MAIN_DATA[userId].keyData.calorieCount / 1000);\n      results.push(dataMocked.USER_MAIN_DATA[userId].keyData.proteinCount);\n      results.push(dataMocked.USER_MAIN_DATA[userId].keyData.carbohydrateCount);\n      results.push(dataMocked.USER_MAIN_DATA[userId].keyData.lipidCount);\n      break;\n  }\n  return results;\n};\n_c = DataRetriever;\nexport default DataRetriever;\nvar _c;\n$RefreshReg$(_c, \"DataRetriever\");","map":{"version":3,"names":["dataMocked","axios","getUser","getActivity","getAverageSessions","getPerfs","DataRetriever","cas","userId","results","push","USER_MAIN_DATA","userInfos","firstName","USER_ACTIVITY","sessions","USER_AVERAGE_SESSIONS","USER_PERFORMANCE","data","score","keyData","calorieCount","proteinCount","carbohydrateCount","lipidCount","mainData","userActivity","userAverageSessions","perfs","todayScore","undefined","_c","$RefreshReg$"],"sources":["C:/Users/sebas/Documents/Documents/Openclassrooms/P12/SportSee/front end/src/service/dataRetriever.jsx"],"sourcesContent":["import dataMocked from '../data/data'\r\nimport axios from 'axios'\r\nimport { getUser, getActivity, getAverageSessions, getPerfs } from './infosUserRetriever.js';\r\n\r\nconst DataRetriever = async (cas, userId) => {\r\n    // cas = 3;\r\n    let results = []\r\n    switch (cas) {\r\n        case \"mock\":\r\n            // utilisation des données mockées\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].userInfos.firstName)\r\n            results.push(dataMocked.USER_ACTIVITY[userId].sessions)\r\n            results.push(dataMocked.USER_AVERAGE_SESSIONS[userId])\r\n            results.push(dataMocked.USER_PERFORMANCE[userId].data)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].score * 100)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].score)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].keyData.calorieCount / 1000)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].keyData.proteinCount)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].keyData.carbohydrateCount)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].keyData.lipidCount)\r\n            break;\r\n        case \"API\":\r\n            // const mainData = await axios.get('http://localhost:3000/user/12')\r\n            // const userActivity = await axios.get('http://localhost:3000/user/12/activity')\r\n            // const userAverageSessions = await axios.get('http://localhost:3000/user/12/average-sessions')\r\n            // const perfs = await axios.get('http://localhost:3000/user/12/performance')\r\n            // results.push(mainData.data.data.userInfos.firstName)\r\n            // results.push(userActivity.data.data.sessions)\r\n            // results.push(userAverageSessions.data.data)\r\n            // results.push(perfs.data.data.data)\r\n            // results.push(mainData.data.data.todayScore * 100)\r\n            // results.push(mainData.data.data.todayScore)\r\n            // results.push(mainData.data.data.keyData.calorieCount / 1000)\r\n            // results.push(mainData.data.data.keyData.proteinCount)\r\n            // results.push(mainData.data.data.keyData.carbohydrateCount)\r\n            // results.push(mainData.data.data.keyData.lipidCount)\r\n            // console.log(mainData.data.data.keyData.calorieCount / 1000)\r\n\r\n            // const mainData = await axios.get('http://localhost:3000/user/12')\r\n            // utilisation des données de l'API\r\n            const mainData = await getUser(userId)\r\n            const userActivity = await getActivity(userId)\r\n            const userAverageSessions = await getAverageSessions(userId)\r\n            const perfs = await getPerfs(userId)\r\n\r\n            // si l'API renvoie \"error\" on renvoie les données mockées\r\n            if (mainData === \"error\" || userActivity === \"error\" || userAverageSessions === \"error\" || perfs === \"error\") {\r\n                userId = 0\r\n                results.push(dataMocked.USER_MAIN_DATA[userId].userInfos.firstName)\r\n                results.push(dataMocked.USER_ACTIVITY[userId].sessions)\r\n                results.push(dataMocked.USER_AVERAGE_SESSIONS[userId])\r\n                results.push(dataMocked.USER_PERFORMANCE[userId].data)\r\n                results.push(dataMocked.USER_MAIN_DATA[userId].score * 100)\r\n                results.push(dataMocked.USER_MAIN_DATA[userId].score)\r\n                results.push(dataMocked.USER_MAIN_DATA[userId].keyData.calorieCount / 1000)\r\n                results.push(dataMocked.USER_MAIN_DATA[userId].keyData.proteinCount)\r\n                results.push(dataMocked.USER_MAIN_DATA[userId].keyData.carbohydrateCount)\r\n                results.push(dataMocked.USER_MAIN_DATA[userId].keyData.lipidCount)\r\n                break;\r\n            }\r\n            // console.log(mainData2);\r\n            // console.log(userAverageSessions);\r\n            results.push(mainData.data.data.userInfos.firstName)\r\n            results.push(userActivity.data.data.sessions)\r\n            results.push(userAverageSessions.data.data)\r\n            results.push(perfs.data.data.data)\r\n            if (mainData.data.data.todayScore === undefined) {\r\n                results.push(mainData.data.data.score * 100)\r\n                results.push(mainData.data.data.score)\r\n            } else {\r\n                results.push(mainData.data.data.todayScore * 100)\r\n                results.push(mainData.data.data.todayScore)\r\n            }\r\n            results.push(mainData.data.data.keyData.calorieCount / 1000)\r\n            results.push(mainData.data.data.keyData.proteinCount)\r\n            results.push(mainData.data.data.keyData.carbohydrateCount)\r\n            results.push(mainData.data.data.keyData.lipidCount)\r\n            // console.log(mainData.data.data.keyData.calorieCount / 1000)\r\n            // console.log(dataMocked.USER_MAIN_DATA[0].score)\r\n            break;\r\n        default:\r\n            // par défaut on renvoie le mock du user 0\r\n            userId = 0\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].userInfos.firstName)\r\n            results.push(dataMocked.USER_ACTIVITY[userId].sessions)\r\n            results.push(dataMocked.USER_AVERAGE_SESSIONS[userId])\r\n            results.push(dataMocked.USER_PERFORMANCE[userId].data)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].score * 100)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].score)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].keyData.calorieCount / 1000)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].keyData.proteinCount)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].keyData.carbohydrateCount)\r\n            results.push(dataMocked.USER_MAIN_DATA[userId].keyData.lipidCount)\r\n            break;\r\n    }\r\n\r\n    return results\r\n}\r\n\r\nexport default DataRetriever"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}